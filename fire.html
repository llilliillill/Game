<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FIRE</title>
</head>
<body>
  <div id="info"></div>
  <div id="cude"></div>

  <style>
    *{
      margin: 0;
      padding: 0;
    }
    /* #cude{
      border: 2px solid gray;
      border-top: 2px solid green;
      border-right: 2px solid green;
      position: absolute; 
      width: 50px;
      height: 50px;
      margin: 200px 0 0 650px;
      z-index: 1;
    } */
  </style>

  <script>
    /* [ ЗАПРЕТИТЬ ONCONTEXTMENU ] */
    document.oncontextmenu = function(){ 
      document.location = 'fire.html'; 
      return false; 
    }


    // function setMenu(x){
    //   if(document.getElementById('menu')){
    //   document.getElementById('menu').remove();}
    //   let a = document.createElement('div');
    //   a.setAttribute('id', 'menu');
    //   a.style.width = '100%';
    //   a.style.zIndex = '2';
    //   a.style.position = 'fixed';
    //   a.style.height = '30px';
    //   a.style.textAlign = 'center';
    //   a.style.lineHeight = '1.8';
    //   a.style.background = 'whitesmoke';
    //   a.style.border = '1px solid green';
    //   a.innerHTML = '<b style="color:green;">'+x+'</b>';
    //   document.body.append(a);
    //   setTimeout(() => { a.remove(); }, 1000);
    // } 

    /* [ INFO ] */
    //function setInfo(){
      let a = document.getElementById('info');
      a.style.width = '100%';
      a.style.height = '30px';
      a.style.position = 'relative';
      a.style.zIndex = '2';
      a.style.textAlign = 'center';
      a.style.lineHeight = '1.8';
      a.style.background = 'whitesmoke';
      a.style.border = '1px solid black';
    //} setInfo();

    /* [ MOUSEMARCER ] */
    // document.body.onclick = function(e){
    //   let a = document.createElement('div');
    //   a.style.margin = (e.clientY-13)+'px 0 0 '
    //                         +(e.clientX+1)+'px';
    //   a.style.zIndex = 4;
    //   a.style.width = '60px';
    //   a.style.height = '12px';
    //   a.style.fontSize = '10px';
    //   a.style.textAlign = 'center';
    //   a.style.position = 'absolute';
    //   a.style.border = '1px solid black';
    //   a.style.background = 'whitesmoke';
    //   a.innerHTML = 'x: '+e.clientX+' y: '+e.clientY;
    //   document.body.append(a);

    //   let b = document.createElement('div');
    //   b.style.margin = e.clientY+'px 0 0 '+e.clientX+'px';
    //   b.style.zIndex = 4;
    //   b.style.width = '2px';
    //   b.style.height = '2px';
    //   b.style.background = 'red';
    //   b.style.position = 'absolute';
    //   document.body.append(b);

    //   setTimeout(() => {
    //     a.remove(); b.remove();
    //   }, 3000);
    // }


    /* [ РАБОТАЕТ ] */
    // let x1 = 0, y1 = 0;
    // marker(x1,y1,'red');     

    // let x = x1; let y = 0;
    // document.onclick = (e) => {
    //   /* [ ... ] */
    //   let x2 = e.pageX, y2 = e.pageY;
    //   marker(e.pageX,e.pageY,'green');

    //   let z = setInterval(() => {
    //     if(x <= x2){
          
    //       let k = (y1-y2)/(x1-x2);
    //       x+=10; y=(k*x);
          
    //       marker(x,y,'red');
    //       document.getElementById('info').innerHTML = ' x: '+x+' y: '+y+' | k: '+k;
    //     } else {
    //      clearInterval(z);
    //     }
    //   },100);

    // }

    /* [ РАБОТАЕТ ] */
    // let x1 = 0, y1 = 0;
    // marker(x1,y1,'red');     
    
    // document.onclick = (e) => {
    //   /* [ ... ] */
    //   let x = x1, y = 0;
    //   let x2 = e.pageX, y2 = e.pageY;
    //   marker(e.pageX,e.pageY,'green');

    //   /* [ ПУЛЯ ] */
    //   marker(x1,y1,'red');

    //   let k = (y1-y2)/(x1-x2);

    //   let z = setInterval(() => {
    //     if(x <= x2){
    //       x+=10; y=(k*x);
    //       document.getElementsByClassName('marker')[2].style.margin = y+'px 0 0 '+x+'px';
    //       document.getElementById('info').innerHTML = ' x: '+x+' y: '+y+' | k: '+k;
    //     } else {
    //       clearInterval(z);
    //     }
    //   },100);

    // }




    /* [ РАБОТАЕТ ] */
    let x1 = 0, y1 = 0;
    marker(x1,y1,'red');
    
    document.onclick = (e) => {

      /* [ ... ] */
      let fire = new Audio('img/fire.mp3');
      fire.volume = '0.2'; fire.play();

      /* [ ... ] */
      let x = x1, y = 0, 
      x2 = (e.pageX-2),
      y2 = (e.pageY-35);

      /* [ МАРКЕР ] */
      marker(x2,y2,'green');

      /* [ ПУЛЯ ] */
      marker(x1,y1,'red');

      let k = (y1-y2)/(x1-x2);

      let z = setInterval(() => {
        if(x<=x2){
          x+=10; y=(k*x); marker(x,y,'red');
        } else {
          clearInterval(z);
        }
      },10);
    }








    /* [ MARCER ] */
    function marker(x,y,z){
      let a = document.createElement('div');
      a.style.margin = y+'px 0 0 '+x+'px';
      a.style.width = '2px';
      a.style.height = '2px';
      a.style.background = (z) ? z : 'red';
      a.style.position = 'absolute';
      a.style.zIndex = 3;
      a.setAttribute('class', 'marker');
      document.body.append(a);
    } 

   
    // function point(z){
    //   let a = document.createElement('div');
    //   a.style.margin = y+'px 0 0 '+x+'px';
    //   a.style.width = '2px';
    //   a.style.height = '2px';
    //   a.style.background = (z) ? z : 'red';
    //   a.style.position = 'absolute';
    //   a.style.zIndex = 3;
    //   document.body.append(a);
    // } point();

    /* [ ... ] */
    // var x = 650;
    // var y = 200;
    // marker((x+25),(y+25),'red');

    // var x2 = 750;
    // var y2 = 100;
    // marker(x2,y2,'green');

    // // поворот тени за курсором
    // document.onmousemove = function(e){
    //   // получаем координаты cude
    //   let x1 = 200; 
    //   let y1 = 650;

    //   // координаты курсора
    //   let x2 = e.pageX;
    //   let y2 = e.pageY;

    //   // координаты третей точки, чтоб получить треугольник
    //   let x3 = x2;
    //   let y3 = y1;
      
    //   // высчитываем угол
    //   let cos = (((x1-x2)*(x1-x2))+((y1-y2)*(y1-y2))+((x1-x3)*(x1-x3))+((y1-y3)*(y1-y3))-((x2-x3)*(x2-x3))-((y2-y3)*(y2-y3)))/(2*Math.sqrt(((x1-x2)*(x1-x2))+((y1-y2)*(y1-y2)))*Math.sqrt(((x1-x3)*(x1-x3))+((y1-y3)*(y1-y3))));
    //   let rad = Math.acos(cos);
    //   let degree = rad * 180 / Math.PI;

    //   let degree360 = 0;
    //   if(x2 < x1 && y2 < y1) degree360 = 180 + (90 - degree);
    //   if(x2 > x1 && y2 < y1) degree360 = 90 + degree;
    //   if(x2 > x1 && y2 > y1) degree360 = 90 - degree;
    //   if(x2 < x1 && y2 > y1) degree360 = degree - 90;

    //   document.getElementById('info').innerHTML = degree360;
    //   document.getElementById('cude').style.transform = 'rotate('+degree360+'deg)';
      
      
    //   // let distance = 50; // расстояние тени до текста  
    //   // // высчитаваем координаты для тени
    //   // let v = Math.round((distance * Math.cos(Math.PI*degree360/180)));
    //   // let h = Math.round((distance * Math.sin(Math.PI*degree360/180)));
    //   // let stlyle = h+'px '+v+'px 10px rgba(0, 0, 0, 1)';
      
    //   // // поворачиваем тень
    //   // document.getElementById('text').style.textShadow = stlyle;
    // }

  </script>
</body>
</html>