<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Test</title>
</head>
<body>
  <style>
    [id="keys"]{
      display: flex;
      flex-direction: row;
    }
    [id="keys"]>div{
      border: 2px solid gray;
      width: 50px;
      height: 50px;
      color: gray;
      font-size: 25px;
      text-align: center;
      line-height: 2.1;
      cursor: pointer;
    }
  </style>

  <div id="info"></div>
  <hr>
  <div id="keys">
    <div class="key">W</div>
    <div class="key">S</div>
    <div class="key">A</div>
    <div class="key">D</div>
  </div>

  <script>

    let x = 400;
    let y = 600;

    let info = document.getElementById('info');
    info.innerHTML = 'x:'+x+' y:'+y;

    let interval = [];
    let animate = true;
    let animate2 = true;

    let keys = document.getElementsByClassName('key');
    document.onkeydown = function(e){
      for(let i=0; i<keys.length; i++){
        if(('Key'+keys[i].innerHTML) == e.code){
          switch(e.code){
            case 'KeyW': move('KeyW'); break;
            case 'KeyS': move('KeyS'); break;
            case 'KeyA': move('KeyA'); break;
            case 'KeyD': move('KeyD'); break;
          }
          keys[i].style.border = '2px solid yellow';
          keys[i].style.color = 'yellow';
        }
      }
    }
    document.onkeyup = function(e){
      for(let i=0; i<keys.length; i++){
        if(('Key'+keys[i].innerHTML) == e.code){
          switch(e.code){
            case 'KeyW': clearInterval(interval[0]); animate = true; break;
            case 'KeyS': clearInterval(interval[1]); animate = true; break;
            case 'KeyA': clearInterval(interval[2]); animate2 = true; break;
            case 'KeyD': clearInterval(interval[3]); animate2 = true; break;
          }
          keys[i].style.border = '2px solid gray';
          keys[i].style.color = 'gray';
        }
      }
    }

    function move(key){
      /* [ ОСЬ X ] */
      if(animate){
        switch(key){
          case 'KeyW': animate = false; interval[0] = setInterval(() => { x -= 2; info.innerHTML = 'x:'+x+' y:'+y; }, 100); break;
          case 'KeyS': animate = false; interval[1] = setInterval(() => { x += 2; info.innerHTML = 'x:'+x+' y:'+y; }, 100); break;
        }
      }
      /* [ ОСЬ Y ] */
      if(animate2){
        switch(key){
          case 'KeyA': animate2 = false; interval[2] = setInterval(() => { y -= 2; info.innerHTML = 'x:'+x+' y:'+y; }, 100); break;
          case 'KeyD': animate2 = false; interval[3] = setInterval(() => { y += 2; info.innerHTML = 'x:'+x+' y:'+y; }, 100); break;
        }
      }
    }

  </script>

</body>
</html>